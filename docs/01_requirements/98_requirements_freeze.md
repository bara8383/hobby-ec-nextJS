# 98_requirements_freeze

本書は、要件定義をどの状態で「凍結」し、基本設計へ移行するかの基準を定める。
※要件凍結後の変更は「変更管理」に従い、影響範囲を評価して扱う。

---

## 1. 要件凍結の目的
- 設計・実装がブレない最低限の合意点を固定する
- 変更が発生した場合に、影響と優先度を可視化して判断できる状態にする

---

## 2. 要件凍結の完了条件（チェックリスト）
以下が満たされたら要件凍結（Phase1）とする。

### 2.1 ドキュメントが揃っている
- [ ] 00_overview.md（目的・Phase分離・用語）
- [ ] 10_usecase_list.md（購入者/出品者/運営のユースケース一覧）
- [ ] 20_screen_list.md（画面一覧）
- [ ] 25_data_list.md（要件レベルのデータ一覧）
- [ ] 30_business_rules.md（業務ルール：DL/返金/通知/審査/通報/精算）
- [ ] 40_functional_requirements.md（機能要件：購入者/出品者/運営）
- [ ] 50_nonfunctional_requirements.md（非機能：最低限）
- [ ] 90_error_policy.md（エラー/例外方針）
- [ ] 95_review_checklist.md（整合チェック観点）
- [ ] 99_open_issues.md（未決事項=risksが隔離されている）

### 2.2 Phase1のコア仕様が確定している
- [ ] 事業モデル：CtoC
- [ ] 販売形態：デジタル（DL）
- [ ] 会員：登録必須（ゲストなし）
- [ ] 注文：複数商品まとめ買い
- [ ] 返金：未DLのみ可、DL済み不可（例外は個別対応）
- [ ] 販売停止：停止後60日DL可、通知（即時＋7日前）
- [ ] 通知：メール＋サイト内、最低1つON、デフォルト両方ON
- [ ] サイト内通知：既読/未読、既読のみ90日自動削除、ユーザー削除可、ページング50件
- [ ] 初回出品のみ審査（最低基準あり）
- [ ] 通報：対象理由3つ、運営措置、通報者へ受付＋結果＋簡易理由
- [ ] 手数料：一律%、暫定10%、新規注文のみ適用
- [ ] 精算：週次（日曜締め→水曜払い）、明細は注文単位
- [ ] 支払い待ち：区分別期限、期限日時表示、期限切れ後支払いは無効

### 2.3 整合性が取れている
- [ ] ユースケース⇔画面一覧⇔業務ルール⇔機能要件に矛盾がない
- [ ] 要件に実装方式・技術名が混入していない
- [ ] 未決事項が risks（99_open_issues）に隔離され、要件本文に混入していない

---

## 3. 要件凍結の扱い
### 3.1 凍結対象
- Phase1（MVP）の業務ルール・機能要件・非機能要件のうち「コア仕様」を凍結対象とする
- Phase2（将来）要件は凍結対象外（別管理）

### 3.2 凍結後に変更したい場合（変更管理）
要件凍結後の変更は以下で扱う。
- 変更要求（CR: Change Request）として起票
- 影響評価（対象：画面/ユースケース/データ/業務ルール/運用/テスト）
- 優先度判断（MVPに入れる/次フェーズに回す/見送る）
- 合意後にドキュメント更新（更新履歴を残す）

---

## 4. 設計への引き渡し（基本設計への入力）
要件凍結後、基本設計で以下を作成する。
- システムコンテキスト（外部との関係）
- 画面遷移と画面仕様（詳細化）
- データモデル（論理設計）
- ユースケース詳細（正常系/例外系）
- 運用フロー（審査/返金/通報/精算）
- エラー・メッセージ・通知テンプレの具体化

※設計では要件の変更をしない。変更が必要な場合は変更管理に戻す。
